{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body { background-color: #F2F3F5; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .settings-top { display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; }
        
        /* КНОПКА НАЗАД */
        .btn-back {
            background-color: #E5E5EA; color: #000; padding: 10px 20px; border-radius: 20px;
            text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 8px; border: none; transition: 0.2s;
        }
        .btn-back:hover { background-color: #D1D1D6; }

        .lang-switch { background: #E0E0E0; border-radius: 20px; padding: 4px; display: flex; }
        .lang-btn { padding: 8px 20px; border-radius: 16px; border: none; cursor: pointer; font-weight: 700; transition: 0.2s; }
        .lang-active { background: #3A3A3C; color: white; }
        .lang-inactive { background: transparent; color: #777; }

        .settings-container { padding: 0 40px; }
        .section-title { color: #8899A6; margin-top: 30px; font-weight: 600; text-transform: uppercase; }
        .grid-row { display: flex; gap: 40px; flex-wrap: wrap; margin-top: 15px; }
        .setting-item { display: flex; align-items: center; gap: 12px; font-size: 18px; font-weight: 500; cursor: pointer; transition: 0.2s; }
        .setting-item:hover { opacity: 0.7; }
        .s-icon { width: 24px; height: 24px; }
        .icon-green { color: #27AE60; fill: #27AE60; }
        .icon-red { color: #EB5757; fill: #EB5757; }
    </style>
</head>
<body>

    <div class="settings-top">
        <a href="{% url 'home' %}" class="btn-back">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            <span class="t-back">Назад</span>
        </a>
        <div class="lang-switch">
            <button class="lang-btn" id="btn_ru" onclick="changeLang('ru')">Русский</button>
            <button class="lang-btn" id="btn_en" onclick="changeLang('en')">English</button>
        </div>
    </div>

    <div class="settings-container">
        <h1 style="margin: 0; font-size: 36px;" class="t-settings">Настройки</h1>

        <div class="section-title t-warehouse">Управление складом</div>
        <div class="grid-row">
            <div class="setting-item"><svg class="s-icon icon-green" viewBox="0 0 24 24"><path d="M21 16.5C21 16.88 20.79 17.21 20.47 17.38L12.57 21.82C12.41 21.94 12.21 22 12 22C11.79 22 11.59 21.94 11.43 21.82L3.53 17.38C3.21 17.21 3 16.88 3 16.5V7.5C3 7.12 3.21 6.79 3.53 6.62L11.43 2.18C11.59 2.06 11.79 2 12 2C12.21 2 12.41 2.06 12.57 2.18L20.47 6.62C20.79 6.79 21 7.12 21 7.5V16.5Z" fill="currentColor"/></svg> <span class="t-supply">Поставки</span></div>
            <div class="setting-item"><svg class="s-icon icon-green" viewBox="0 0 24 24"><path d="M12 2L4 5V11L12 14L20 11V5L12 2Z" fill="currentColor"/><path d="M4 13L12 16L20 13V19L12 22L4 19V13Z" fill="currentColor" opacity="0.5"/></svg> <span class="t-stock">Остатки</span></div>
            <div class="setting-item"><svg class="s-icon icon-red" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="currentColor"/></svg> <span class="t-writeoff">Списание</span></div>
        </div>

        <div class="section-title t-cash">Кассовая смена</div>
        <div class="grid-row">
            <div class="setting-item"><svg class="s-icon icon-green" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z" fill="currentColor"/></svg> <span class="t-trans">Транзакции</span></div>
        </div>
    </div>

    <script>
        const dict = {
            'ru': { 'back': 'Назад', 'settings': 'Настройки', 'warehouse': 'Склад', 'supply': 'Поставки', 'stock': 'Остатки', 'writeoff': 'Списание', 'cash': 'Кассовая смена', 'trans': 'Транзакции' },
            'en': { 'back': 'Back', 'settings': 'Settings', 'warehouse': 'Warehouse', 'supply': 'Supply', 'stock': 'Stock', 'writeoff': 'Write-off', 'cash': 'Shift', 'trans': 'Transactions' }
        };

        function changeLang(lang) {
            localStorage.setItem('pos_lang', lang); // Сохраняем в память
            applyLang(lang);
        }

        function applyLang(lang) {
            document.querySelectorAll('[class^="t-"]').forEach(el => {
                const key = el.className.split(' ')[0].replace('t-', '');
                if (dict[lang][key]) el.innerText = dict[lang][key];
            });
            
            // Кнопки
            document.getElementById('btn_ru').className = lang === 'ru' ? 'lang-btn lang-active' : 'lang-btn lang-inactive';
            document.getElementById('btn_en').className = lang === 'en' ? 'lang-btn lang-active' : 'lang-btn lang-inactive';
        }

        // При загрузке страницы читаем память
        applyLang(localStorage.getItem('pos_lang') || 'ru');
    </script>
</body>
</html>